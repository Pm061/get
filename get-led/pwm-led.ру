import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BCM)

LED_PIN = 26          # пин светодиода (Digital LED = GPIO26)
FREQ_HZ = 200         # частота ШИМ
STEP = 1.0            # шаг скважности в процентах
PAUSE = 0.05          # пауза между шагами

GPIO.setup(LED_PIN, GPIO.OUT)
pwm = GPIO.PWM(LED_PIN, FREQ_HZ)

duty = 0.0
pwm.start(duty)

try:
    while True:
        pwm.ChangeDutyCycle(duty)
        time.sleep(PAUSE)

        duty += STEP
        if duty > 100.0:
            duty = 0.0
except KeyboardInterrupt:
    pass
finally:
    pwm.stop()
    GPIO.cleanup()
